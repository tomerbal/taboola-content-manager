var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");$(document).ready(function(){getCountries();getBrands();getAllData(0);initInsert()});
function getBrands(){$.get("/brand/get-all",function(a){if(200!==a.status)$("#genericMessage").text("There was an error retrieving brands"),$("#genericCode").text(a.status),$("#genericModal").modal();else{for(var c in a.brands)brands.push({text:a.brands[c],id:parseInt(c)});var b=$("#brandInput"),d=$("#brandInputEdit");$("#brandChooser").select2({data:brands,placeholder:brands[0].text}).on("select2:select",function(a){b.attr("val",a.params.data.text)});$("#brandChooserEdit").select2({data:brands,placeholder:brands[0].text}).on("select2:select",
function(a){d.attr("val",a.params.data.text)});b.attr("val",brands[0].text)}}).fail(function(a){$("#genericMessage").text("There was an error retrieving brands");$("#genericCode").text(a.status);$("#genericModal").modal()})}
function getCountries(){$.get("/country/get-all",function(a){if(200!==a.status)$("#genericMessage").text("There was an error retrieving countries"),$("#genericCode").text(a.status),$("#genericModal").modal();else{for(var c in a.countries)countries.push({text:a.countries[c].name,id:parseInt(c)});var b=$("#countryInput"),d=$("#countryInputEdit");$("#countryChooser").select2({data:countries,placeholder:countries[0].text}).on("select2:select",function(a){b.attr("val",a.params.data.text)});$("#countryChooserEdit").select2({data:countries,
placeholder:countries[0].text}).on("select2:select",function(a){d.attr("val",a.params.data.text)});b.attr("val",countries[0].text)}}).fail(function(a){$("#genericMessage").text("There was an error retrieving countries");$("#genericCode").text(a.status);$("#genericModal").modal()})}
function getAllData(a){$.get("/content-item/get-all-content-items/"+a+"/"+config.batchSize,function(c){console.log(c);200!==c.status?($("#genericMessage").text("There was an error retrieving the data"),$("#genericCode").text(c.status),$("#genericModal").modal()):(fillDashboard(a,c),initDashboard())}).fail(function(a){$("#genericMessage").text("There was an error retrieving the data");$("#genericCode").text(a.status);$("#errorModal").modal()})}
function initDashboard(){$('[data-toggle="tooltip"]').tooltip();var a=$('table tbody input[type="checkbox"]');$("#selectAll").click(function(){this.checked?a.each(function(){this.checked=!0}):a.each(function(){this.checked=!1})});a.click(function(){this.checked||$("#selectAll").prop("checked",!1)})}
function fillDashboard(a,c){$("#dashboardTableBody").html("");var b=a*config.batchSize+1,d=b+c.contentItems.length-1;$("#showingTo").text(d);$("#showingFrom").text(b);0===a?$("#previousButton").hide():$("#previousButton").show();$("#outOf").text(c.outOf);b=c.outOf/config.batchSize;0<c.outOf%config.batchSize&&b++;$(".page-item").not("#firstPage").remove();d=$("#paginationList #firstPage");1===a+1&&$("#firstPage").addClass("active");for(var e=2;e<=b;e++)e===a+1?d.after('<li class="page-item active"><a class="page-link" onclick="paging(this)">'+
e+"</a></li>"):d.after('<li class="page-item"><a class="page-link" onclick="paging(this)">'+e+"</a></li>"),d=$(".page-item").last();$.get("../htmls/item-content.html",function(a){for(var b in c.contentItems){var d=c.contentItems[b],e=$($.parseHTML(a));e.find(".itemContentInputCheckbox").attr("id","checkbox"+b);e.find(".itemContentInputLabel").attr("for","checkbox"+b);e.find(".country").text(d.countryName);e.find(".brand").text(d.brandName);e.find(".title").text(d.title);e.find(".img img").attr("src",
d.img);e.attr("itemId",d.id);$("#dashboardTableBody").append(e)}})}function paging(a){$(".pagination").find(".active").removeClass("active");getAllData(parseInt(a.innerText)-1)};
